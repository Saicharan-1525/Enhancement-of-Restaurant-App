{"ast":null,"code":"var _jsxFileName = \"/home/nxtwave/reactjs/coding-practices/enhancementOfRestaurantApp/src/components/Home/index.js\";\nimport './index.css';\nimport Loader from 'react-loader-spinner';\nimport { Component } from 'react';\n\n// import {Link} from 'react-router-dom'\nimport Header from '../Header';\nimport DishCategoryTab from '../DishCategoryTab';\nimport DishItem from '../DishItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst diffStates = {\n  inProgress: 'LOADING',\n  success: 'SUCCESS',\n  fail: 'FAILURE'\n};\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      status: diffStates.inProgress,\n      activeTabId: '11',\n      data: [],\n      count: 0\n    };\n    this.onChangeActiveTab = id => {\n      this.setState({\n        activeTabId: id\n      });\n    };\n    this.componentDidMount = async () => {\n      try {\n        const response = await fetch('https://apis2.ccbp.in/restaurant-app/restaurant-menu-list-details');\n        const dataResponse = await response.json();\n        this.setState({\n          status: diffStates.success,\n          data: dataResponse\n        });\n      } catch (error) {\n        this.setState({\n          status: diffStates.fail\n        });\n      }\n    };\n    this.renderLoader = () => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader-container\",\n      children: /*#__PURE__*/_jsxDEV(Loader, {\n        type: \"ThreeDots\",\n        color: \"#0b69ff\",\n        height: \"50\",\n        width: \"50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }, this);\n    this.onIncrease = () => {\n      this.setState(prev => ({\n        count: prev.count + 1\n      }));\n    };\n    this.onDecrease = () => {\n      const {\n        count\n      } = this.state;\n      if (count === 0) {\n        this.setState({\n          count: 0\n        });\n      } else {\n        this.setState(prev => ({\n          count: prev.count - 1\n        }));\n      }\n    };\n    this.renderSuccessView = () => {\n      const {\n        data,\n        activeTabId,\n        count\n      } = this.state;\n      const tableMenuData = data[0].table_menu_list;\n      const currentActiveTabDishes = tableMenuData.filter(each => each.menu_category_id === activeTabId);\n      const updatedTableMenuData = tableMenuData.map(each => ({\n        categoryDishes: each.category_dishes,\n        menuCategory: each.menu_category,\n        menuCategoryId: each.menu_category_id,\n        menuCategoryImage: each.menu_category_image\n      }));\n      const updatedActiveTabDishes = {\n        categoryDishes: currentActiveTabDishes[0].category_dishes,\n        menuCategory: currentActiveTabDishes[0].menu_category,\n        menuCategoryId: currentActiveTabDishes[0].menu_category_id\n      };\n      const dishesArray = updatedActiveTabDishes.categoryDishes;\n      const updatedDishesArray = dishesArray.map(dish => ({\n        addonCat: dish.addonCat,\n        dishAvailability: dish.dish_Availability,\n        dishCalories: dish.dish_calories,\n        dishCurrency: dish.dish_currency,\n        dishDescription: dish.dish_description,\n        dishId: dish.dish_id,\n        dishImage: dish.dish_image,\n        dishName: dish.dish_name,\n        dishPrice: dish.dish_price\n      }));\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          count: count\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dish-item-category-div\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"tabs-container\",\n            children: updatedTableMenuData.map(each => /*#__PURE__*/_jsxDEV(DishCategoryTab, {\n              isActiveTab: each.menuCategoryId === activeTabId,\n              menuData: each,\n              onChangeTabId: this.onChangeActiveTab\n            }, each.menuCategoryId, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"dish-items-containers\",\n          children: updatedDishesArray.map(each => /*#__PURE__*/_jsxDEV(DishItem, {\n            count: count,\n            dish: each,\n            onIncreaseCount: this.onIncrease,\n            onDecreaseCount: this.onDecrease\n          }, each.dishId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true);\n    };\n    this.renderDiffViews = () => {\n      const {\n        status\n      } = this.state;\n      switch (status) {\n        case diffStates.inProgress:\n          return this.renderLoader();\n        case diffStates.success:\n          return this.renderSuccessView();\n        case diffStates.fail:\n          return /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"failure-mesg\",\n            children: \"Failed To Load...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 16\n          }, this);\n        default:\n          return null;\n      }\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-main-container\",\n      children: this.renderDiffViews()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 12\n    }, this);\n  }\n}\nexport default Home;","map":{"version":3,"names":["Loader","Component","Header","DishCategoryTab","DishItem","jsxDEV","_jsxDEV","Fragment","_Fragment","diffStates","inProgress","success","fail","Home","constructor","args","state","status","activeTabId","data","count","onChangeActiveTab","id","setState","componentDidMount","response","fetch","dataResponse","json","error","renderLoader","className","children","type","color","height","width","fileName","_jsxFileName","lineNumber","columnNumber","onIncrease","prev","onDecrease","renderSuccessView","tableMenuData","table_menu_list","currentActiveTabDishes","filter","each","menu_category_id","updatedTableMenuData","map","categoryDishes","category_dishes","menuCategory","menu_category","menuCategoryId","menuCategoryImage","menu_category_image","updatedActiveTabDishes","dishesArray","updatedDishesArray","dish","addonCat","dishAvailability","dish_Availability","dishCalories","dish_calories","dishCurrency","dish_currency","dishDescription","dish_description","dishId","dish_id","dishImage","dish_image","dishName","dish_name","dishPrice","dish_price","isActiveTab","menuData","onChangeTabId","onIncreaseCount","onDecreaseCount","renderDiffViews","render"],"sources":["/home/nxtwave/reactjs/coding-practices/enhancementOfRestaurantApp/src/components/Home/index.js"],"sourcesContent":["import './index.css'\n\nimport Loader from 'react-loader-spinner'\n\nimport {Component} from 'react'\n\n// import {Link} from 'react-router-dom'\nimport Header from '../Header'\n\nimport DishCategoryTab from '../DishCategoryTab'\n\nimport DishItem from '../DishItem'\n\nconst diffStates = {\n  inProgress: 'LOADING',\n  success: 'SUCCESS',\n  fail: 'FAILURE',\n}\n\nclass Home extends Component {\n  state = {\n    status: diffStates.inProgress,\n    activeTabId: '11',\n    data: [],\n    count: 0,\n  }\n\n  onChangeActiveTab = id => {\n    this.setState({activeTabId: id})\n  }\n\n  componentDidMount = async () => {\n    try {\n      const response = await fetch(\n        'https://apis2.ccbp.in/restaurant-app/restaurant-menu-list-details',\n      )\n      const dataResponse = await response.json()\n\n      this.setState({status: diffStates.success, data: dataResponse})\n    } catch (error) {\n      this.setState({status: diffStates.fail})\n    }\n  }\n\n  renderLoader = () => (\n    <div className=\"loader-container\">\n      <Loader type=\"ThreeDots\" color=\"#0b69ff\" height=\"50\" width=\"50\" />\n    </div>\n  )\n\n  onIncrease = () => {\n    this.setState(prev => ({count: prev.count + 1}))\n  }\n\n  onDecrease = () => {\n    const {count} = this.state\n    if (count === 0) {\n      this.setState({count: 0})\n    } else {\n      this.setState(prev => ({count: prev.count - 1}))\n    }\n  }\n\n  renderSuccessView = () => {\n    const {data, activeTabId, count} = this.state\n    const tableMenuData = data[0].table_menu_list\n    const currentActiveTabDishes = tableMenuData.filter(\n      each => each.menu_category_id === activeTabId,\n    )\n    const updatedTableMenuData = tableMenuData.map(each => ({\n      categoryDishes: each.category_dishes,\n      menuCategory: each.menu_category,\n      menuCategoryId: each.menu_category_id,\n      menuCategoryImage: each.menu_category_image,\n    }))\n    const updatedActiveTabDishes = {\n      categoryDishes: currentActiveTabDishes[0].category_dishes,\n      menuCategory: currentActiveTabDishes[0].menu_category,\n      menuCategoryId: currentActiveTabDishes[0].menu_category_id,\n    }\n\n    const dishesArray = updatedActiveTabDishes.categoryDishes\n    const updatedDishesArray = dishesArray.map(dish => ({\n      addonCat: dish.addonCat,\n      dishAvailability: dish.dish_Availability,\n      dishCalories: dish.dish_calories,\n      dishCurrency: dish.dish_currency,\n      dishDescription: dish.dish_description,\n      dishId: dish.dish_id,\n      dishImage: dish.dish_image,\n      dishName: dish.dish_name,\n      dishPrice: dish.dish_price,\n    }))\n\n    return (\n      <>\n        <Header count={count} />\n        <div className=\"dish-item-category-div\">\n          <ul className=\"tabs-container\">\n            {updatedTableMenuData.map(each => (\n              <DishCategoryTab\n                key={each.menuCategoryId}\n                isActiveTab={each.menuCategoryId === activeTabId}\n                menuData={each}\n                onChangeTabId={this.onChangeActiveTab}\n              />\n            ))}\n          </ul>\n        </div>\n        <ul className=\"dish-items-containers\">\n          {updatedDishesArray.map(each => (\n            <DishItem\n              count={count}\n              dish={each}\n              key={each.dishId}\n              onIncreaseCount={this.onIncrease}\n              onDecreaseCount={this.onDecrease}\n            />\n          ))}\n        </ul>\n      </>\n    )\n  }\n\n  renderDiffViews = () => {\n    const {status} = this.state\n    switch (status) {\n      case diffStates.inProgress:\n        return this.renderLoader()\n      case diffStates.success:\n        return this.renderSuccessView()\n      case diffStates.fail:\n        return <h1 className=\"failure-mesg\">Failed To Load...</h1>\n      default:\n        return null\n    }\n  }\n\n  render() {\n    return <div className=\"home-main-container\">{this.renderDiffViews()}</div>\n  }\n}\n\nexport default Home\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}